{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://schemas.video-notation.com/video-notation.schema@v1.0.0",
    "title": "Video Notation Schema",
    "description": "A comprehensive schema for prompting Ai generated video content, designed for AI video generation models. Created and maintained by The Cato Bot Company Limited.",
    "version": "1.0.0",
    "last_updated": "2025-07-28T12:00:00Z",
    "changelog": "Initial version with comprehensive video prompting fields",
    "type": "object",
    "author": {
        "name": "Nikolaos Maniatis",
        "email": "hello@context-notation.com",
        "affiliation": "The Cato Bot Company Limited"
    },
    "license": "Apache-2.0",
    "keywords": [
        "video",
        "scripting",
        "AI generation",
        "prompt engineering",
        "content",
        "media",
        "Video Notation",
        "creative control"
    ],
    "homepage": "https://video-notation.com",
    "repository": "https://github.com/context-notation/video-notation-schema",
    "$defs": {
        "shot_parameters": {
            "type": "object",
            "description": "Reusable schema for camera and shot composition parameters.",
            "properties": {
                "composition": {
                    "type": "string",
                    "description": "General description of lens, framing style, depth of field, etc. (e.g., 'wide angle, deep focus', 'shallow depth of field portrait', 'Dutch angle')."
                },
                "camera_motion": {
                    "type": "string",
                    "enum": [
                        "static",
                        "tracking shot",
                        "pan",
                        "tilt",
                        "dolly",
                        "crane",
                        "zoom_in",
                        "zoom_out",
                        "dolly_zoom",
                        "handheld",
                        "FPV",
                        "gimbal_smooth",
                        "push_in",
                        "pull_out"
                    ],
                    "description": "Default camera movement style (e.g., 'static', 'tracking shot', 'FPV', 'zoom_in')."
                },
                "camera_angle": {
                    "type": "string",
                    "enum": [
                        "eye_level",
                        "low_angle",
                        "high_angle",
                        "bird_eye",
                        "worm_eye",
                        "dutch_angle",
                        "point_of_view"
                    ],
                    "description": "Default camera angle relative to subject position for visual storytelling impact (e.g., 'eye_level' for neutrality, 'low_angle' for power)."
                },
                "framing": {
                    "type": "string",
                    "enum": [
                        "wide",
                        "medium",
                        "close-up",
                        "extreme_close-up",
                        "over_the_shoulder",
                        "two_shot",
                        "group_shot",
                        "point_of_view",
                        "full_shot",
                        "medium_shot",
                        "cowboy_shot",
                        "bust_shot"
                    ],
                    "description": "Describes default camera framing for the subject (e.g., 'close-up' for intimacy, 'wide' for context)."
                },
                "focus_style": {
                    "type": "string",
                    "enum": [
                        "sharp",
                        "soft",
                        "rack_focus",
                        "shallow_depth_of_field",
                        "deep_focus"
                    ],
                    "description": "Default focus characteristic (e.g., 'sharp' for clarity, 'shallow_depth_of_field' for subject isolation)."
                },
                "lens_mm": {
                    "type": "number",
                    "minimum": 1,
                    "description": "Optional: Default focal length of lens in mm (e.g., 35, 50, 85). Lower for wider, higher for telephoto."
                },
                "aperture": {
                    "type": "string",
                    "pattern": "^f/(\\d+(\\.\\d+)?)$",
                    "description": "Optional: Default aperture value (e.g., 'f/1.8'). Lower f-number means shallower depth of field."
                },
                "sensor_type": {
                    "type": "string",
                    "enum": [
                        "Super 35",
                        "Full Frame",
                        "Micro Four Thirds",
                        "1-inch",
                        "smartphone"
                    ],
                    "description": "Optional: Default camera sensor type, influencing overall look (e.g., 'Super 35', 'Full Frame')."
                },
                "film_grain": {
                    "type": "string",
                    "description": "Desired film grain or digital noise level and style (e.g., 'clean digital', 'subtle 16mm grain', 'heavy 8mm noise', 'vintage dust & scratches')."
                },
                "visual_style": {
                    "type": "string",
                    "description": "Overarching visual aesthetic or art direction (e.g., 'surreal', 'naturalistic', 'animated', 'photorealistic', 'gritty', 'dreamlike', 'abstract')."
                }
            }
        },
        "cinematography_parameters": {
            "type": "object",
            "description": "Reusable schema for lighting and overall atmospheric tone.",
            "properties": {
                "lighting": {
                    "type": "string",
                    "description": "Overall lighting style (e.g., 'soft daylight', 'moody chiaroscuro', 'high-key studio lit', 'neon glow', 'backlit', 'silhouette')."
                },
                "tone": {
                    "type": "string",
                    "description": "General emotional tone or energy of the video (e.g., 'empowering', 'whimsical', 'tense', 'inspirational', 'somber', 'humorous', 'dramatic', 'calm', 'energetic')."
                }
            }
        },
        "prop_parameters": {
            "type": "object",
            "description": "Defines a reusable prop with its general characteristics.",
            "properties": {
                "prop_id": {
                    "type": "string",
                    "description": "Unique identifier for the prop (e.g., 'starbucks_hot_cup', 'wooden_table').",
                    "pattern": "^[a-zA-Z0-9_-]+$"
                },
                "name": {
                    "type": "string",
                    "description": "Common name of the prop (e.g., 'Starbucks hot cup')."
                },
                "description": {
                    "type": "string",
                    "description": "Detailed physical description of the prop (e.g., 'sleek hot drink cup with iconic green Starbucks logo')."
                },
                "material": {
                    "type": "string",
                    "description": "Primary material of the prop (e.g., 'recycled paper', 'wood', 'liquid')."
                },
                "color": {
                    "type": "string",
                    "description": "Dominant color or color description (e.g., 'white with green logo', 'dark brown')."
                }
            },
            "required": [
                "prop_id",
                "name",
                "description"
            ]
        },
        "audio_element_parameters": {
            "type": "object",
            "description": "Defines a reusable audio element (sound effect or ambient sound).",
            "properties": {
                "audio_id": {
                    "type": "string",
                    "description": "Unique identifier for the audio element (e.g., 'coffee_shop_ambiance', 'steam_hiss').",
                    "pattern": "^[a-zA-Z0-9_-]+$"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "ambient",
                        "sound_effect",
                        "music_loop"
                    ],
                    "description": "Categorization of the audio element."
                },
                "description": {
                    "type": "string",
                    "description": "Detailed description of the sound (e.g., 'subtle background hum, distant chatter, gentle clinking of cups')."
                }
            },
            "required": [
                "audio_id",
                "type",
                "description"
            ]
        },
        "subject_parameters": {
            "type": "object",
            "description": "Defines a reusable non-character subject.",
            "properties": {
                "subject_id": {
                    "type": "string",
                    "description": "Unique identifier for the subject (e.g., 'succulent_plant_A', 'bookshelf_decor').",
                    "pattern": "^[a-zA-Z0-9_-]+$"
                },
                "name": {
                    "type": "string",
                    "description": "Common name of the subject (e.g., 'Succulent Plant')."
                },
                "description": {
                    "type": "string",
                    "description": "Detailed physical description of the subject (e.g., 'small succulent plant with thick, green leaves')."
                },
                "appearance_details": {
                    "type": "string",
                    "description": "Additional visual details about the subject's appearance."
                }
            },
            "required": [
                "subject_id",
                "name",
                "description"
            ]
        },
        "motion_graphic_parameters": {
            "type": "object",
            "description": "Defines a reusable motion graphic element.",
            "properties": {
                "graphic_id": {
                    "type": "string",
                    "description": "Unique identifier for the motion graphic (e.g., 'starbucks_logo_reveal', 'product_info_lower_third').",
                    "pattern": "^[a-zA-Z0-9_-]+$"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "lower_third",
                        "infographic",
                        "icon_overlay",
                        "caption",
                        "text_overlay",
                        "animated_logo",
                        "data_visualization"
                    ],
                    "description": "Type of graphic element."
                },
                "content_template": {
                    "type": "string",
                    "description": "A template for the text or key information contained in the graphic, if dynamic (e.g., 'Product Name: {}', 'Price: ${}')."
                },
                "animation_style": {
                    "type": "string",
                    "description": "How the graphic appears and disappears (e.g., 'slide in from left', 'fade up', 'bounce in', 'typewriter effect')."
                },
                "design_style": {
                    "type": "string",
                    "description": "Overall visual design style of the graphic (e.g., 'minimalist', 'futuristic neon', 'hand-drawn')."
                }
            },
            "required": [
                "graphic_id",
                "type",
                "animation_style",
                "design_style"
            ]
        },
        "lighting_preset_parameters": {
            "type": "object",
            "description": "Defines a reusable lighting preset.",
            "properties": {
                "preset_id": {
                    "type": "string",
                    "description": "Unique identifier for the lighting preset (e.g., 'golden_hour_window', 'moody_cafe_lights').",
                    "pattern": "^[a-zA-Z0-9_-]+$"
                },
                "name": {
                    "type": "string",
                    "description": "Name of the lighting preset."
                },
                "description": {
                    "type": "string",
                    "description": "Detailed description of the lighting setup and its effect."
                },
                "lighting_style": {
                    "type": "string",
                    "description": "Overall lighting style (e.g., 'soft daylight', 'moody chiaroscuro', 'high-key studio lit', 'neon glow', 'backlit', 'silhouette')."
                }
            },
            "required": [
                "preset_id",
                "name",
                "lighting_style"
            ]
        },
        "tone_preset_parameters": {
            "type": "object",
            "description": "Defines a reusable tone preset.",
            "properties": {
                "preset_id": {
                    "type": "string",
                    "description": "Unique identifier for the tone preset (e.g., 'calm_inviting_tone', 'energetic_transform').",
                    "pattern": "^[a-zA-Z0-9_-]+$"
                },
                "name": {
                    "type": "string",
                    "description": "Name of the tone preset."
                },
                "description": {
                    "type": "string",
                    "description": "Detailed description of the emotional tone or energy."
                },
                "tone_style": {
                    "type": "string",
                    "description": "General emotional tone or energy of the video (e.g., 'empowering', 'whimsical', 'tense', 'inspirational', 'somber', 'humorous', 'dramatic', 'calm', 'energetic')."
                }
            },
            "required": [
                "preset_id",
                "name",
                "tone_style"
            ]
        }
    },
    "properties": {
        "metadata": {
            "type": "object",
            "description": "General information and global properties of the video project.",
            "properties": {
                "title": {
                    "type": "string",
                    "description": "Optional: Name of the video project."
                },
                "duration_seconds": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Total video length in seconds. This can be an estimate, especially for dynamic content. If individual scene durations are specified, this can be the sum."
                },
                "video_type": {
                    "type": "string",
                    "enum": [
                        "advertisement",
                        "short film",
                        "educational",
                        "explainer",
                        "tutorial",
                        "documentary",
                        "music_video",
                        "social_media_short",
                        "corporate",
                        "product_demo"
                    ],
                    "description": "Categorization of the video content (e.g., 'advertisement', 'short film', 'educational', 'explainer', 'tutorial', 'documentary', 'music_video')."
                },
                "aspect_ratio": {
                    "type": "string",
                    "enum": [
                        "16:9",
                        "9:16",
                        "1:1",
                        "4:3",
                        "21:9",
                        "freeform"
                    ],
                    "description": "Standard aspect ratio for the video (e.g., '16:9' for widescreen, '9:16' for vertical/shorts, '1:1' for square). 'freeform' allows AI to choose."
                },
                "frame_rate": {
                    "type": "string",
                    "enum": [
                        "24fps",
                        "25fps",
                        "30fps",
                        "48fps",
                        "50fps",
                        "60fps",
                        "120fps"
                    ],
                    "description": "Desired frame rate for the video (e.g., '24fps' for cinematic, '30fps' for standard digital)."
                },
                "resolution": {
                    "type": "string",
                    "enum": [
                        "720p",
                        "1080p",
                        "1440p",
                        "2K",
                        "4K",
                        "8K"
                    ],
                    "description": "Target resolution for the video output (e.g., '1080p', '4K')."
                },
                "colour_grading": {
                    "type": "string",
                    "description": "Overall color aesthetic or grading style (e.g., 'cinematic', 'natural', 'vintage', 'monochromatic', 'vibrant', 'desaturated', 'high_contrast')."
                },
                "language": {
                    "type": "string",
                    "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
                    "description": "Primary language and optional regional variant for the video's overall communication, including on-screen text or general tone (e.g., 'en-GB', 'en-US', 'fr-FR', 'ja-JP')."
                },
                "target_audience": {
                    "type": "string",
                    "description": "Description of the intended audience (e.g., 'young adults interested in tech', 'parents of toddlers', 'professional marketers')."
                },
                "keywords": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "A list of relevant keywords or tags for the video content (e.g., ['AI', 'tutorial', 'sci-fi', 'comedy']).",
                    "minItems": 0,
                    "uniqueItems": true
                },
                "accessibility": {
                    "type": "object",
                    "description": "Metadata related to video accessibility features.",
                    "properties": {
                        "captions_status": {
                            "type": "string",
                            "enum": [
                                "required",
                                "optional",
                                "none"
                            ],
                            "description": "Specifies the status of captions/subtitles for the video."
                        },
                        "audio_description_status": {
                            "type": "string",
                            "enum": [
                                "required",
                                "optional",
                                "none"
                            ],
                            "description": "Specifies the status of audio descriptions for visually impaired users."
                        },
                        "transcript_status": {
                            "type": "string",
                            "enum": [
                                "required",
                                "optional",
                                "none"
                            ],
                            "description": "Specifies the status of a full text transcript for the video."
                        },
                        "flashing_content_warning": {
                            "type": "boolean",
                            "description": "Set to true if the video contains flashing content that may trigger seizures."
                        },
                        "motion_sickness_warning": {
                            "type": "boolean",
                            "description": "Set to true if the video contains excessive camera motion that may induce motion sickness."
                        }
                    },
                    "required": [
                        "captions_status"
                    ]
                }
            },
            "required": [
                "duration_seconds",
                "video_type",
                "aspect_ratio",
                "frame_rate",
                "resolution",
                "language"
            ]
        },
        "characters": {
            "type": "array",
            "description": "Definitions of key characters or persistent subjects in the video.",
            "items": {
                "type": "object",
                "properties": {
                    "character_id": {
                        "type": "string",
                        "description": "Unique identifier for the character (e.g., 'protagonist_sarah', 'narrator_voice', 'robot_assistant').",
                        "pattern": "^[a-zA-Z0-9_-]+$"
                    },
                    "name": {
                        "type": "string",
                        "description": "The character's name as used in dialogue or script (e.g., 'Sarah', 'The Narrator')."
                    },
                    "appearance": {
                        "type": "string",
                        "description": "Detailed physical description of the character (e.g., 'a slender woman in her 30s with long dark hair and piercing blue eyes', 'a tall, elderly man with a kind face and spectacles')."
                    },
                    "wardrobe": {
                        "type": "string",
                        "description": "Default or typical costume/outfit for the character (e.g., 'casual jeans and t-shirt', 'formal business suit', 'medieval knight armor')."
                    },
                    "age_range": {
                        "type": "string",
                        "enum": [
                            "child",
                            "teenager",
                            "20s",
                            "30s",
                            "40s",
                            "50s",
                            "60s+",
                            "ageless"
                        ],
                        "description": "Approximate age range of the character."
                    },
                    "gender": {
                        "type": "string",
                        "enum": [
                            "male",
                            "female",
                            "non-binary",
                            "fluid",
                            "unspecified",
                            "N/A"
                        ],
                        "description": "Character's gender identity or presentation. 'N/A' for non-human subjects."
                    },
                    "ethnicity_descriptor": {
                        "type": "string",
                        "description": "Optional: Descriptive ethnicity or heritage (e.g., 'East Asian', 'African-American', 'Caucasian'). Avoid stereotypes."
                    },
                    "personality_traits": {
                        "type": "string",
                        "description": "Key personality traits or temperament (e.g., 'optimistic and curious', 'grumpy but kind-hearted', 'stoic and analytical')."
                    },
                    "vocal_description": {
                        "type": "string",
                        "description": "Default vocal characteristics for this character (e.g., 'calm, deep male voice', 'energetic, high-pitched female voice'). Overrides dialogue_defaults vocal."
                    },
                    "accent": {
                        "type": "string",
                        "description": "Default accent for this character's dialogue (e.g., 'Scottish', 'American Southern', 'RP British'). Overrides dialogue_defaults accent."
                    },
                    "backstory_summary": {
                        "type": "string",
                        "description": "Optional: Brief summary of the character's background or relevant history for context."
                    },
                    "reference_image_id": {
                        "type": "string",
                        "description": "Optional: ID of a primary reference image from 'annotations.production_assets' for this character."
                    }
                },
                "required": [
                    "character_id",
                    "name",
                    "appearance"
                ]
            },
            "minItems": 0,
            "uniqueItems": true
        },
        "global_props": {
            "type": "array",
            "description": "Definitions of reusable physical objects (props) that appear in the video.",
            "items": {
                "$ref": "#/$defs/prop_parameters"
            },
            "minItems": 0,
            "uniqueItems": true
        },
        "global_audio_elements": {
            "type": "array",
            "description": "Definitions of reusable audio elements (sound effects, ambient sounds, music loops).",
            "items": {
                "$ref": "#/$defs/audio_element_parameters"
            },
            "minItems": 0,
            "uniqueItems": true
        },
        "global_subjects": {
            "type": "array",
            "description": "Definitions of reusable non-character subjects (e.g., animals, specific background elements).",
            "items": {
                "$ref": "#/$defs/subject_parameters"
            },
            "minItems": 0,
            "uniqueItems": true
        },
        "global_motion_graphics": {
            "type": "array",
            "description": "Definitions of reusable motion graphic templates.",
            "items": {
                "$ref": "#/$defs/motion_graphic_parameters"
            },
            "minItems": 0,
            "uniqueItems": true
        },
        "global_lighting_presets": {
            "type": "array",
            "description": "Definitions of reusable lighting style presets.",
            "items": {
                "$ref": "#/$defs/lighting_preset_parameters"
            },
            "minItems": 0,
            "uniqueItems": true
        },
        "global_tone_presets": {
            "type": "array",
            "description": "Definitions of reusable tone style presets.",
            "items": {
                "$ref": "#/$defs/tone_preset_parameters"
            },
            "minItems": 0,
            "uniqueItems": true
        },
        "global_style": {
            "type": "object",
            "description": "Global stylistic elements and artistic direction that apply to the entire video unless overridden by specific scenes.",
            "properties": {
                "shot": {
                    "$ref": "#/$defs/shot_parameters",
                    "description": "Global characteristics for camera and shot composition."
                },
                "subject": {
                    "type": "object",
                    "description": "General characteristics for non-character subjects or a default for unnamed subjects.",
                    "properties": {
                        "description": {
                            "type": "string",
                            "description": "General overview of a typical or unnamed focal point appearance and traits (e.g., 'a busy urban crowd', 'a majestic wild animal')."
                        },
                        "wardrobe": {
                            "type": "string",
                            "description": "General costume/outfit style for typical subjects if not specified by character (e.g., 'generic office attire')."
                        },
                        "behaviour": {
                            "type": "string",
                            "description": "General emotional tone, body language, or key action traits of typical subjects."
                        }
                    }
                },
                "cinematography": {
                    "type": "object",
                    "description": "Global lighting and overall atmospheric tone.",
                    "properties": {
                        "lighting": {
                            "oneOf": [
                                {
                                    "type": "string",
                                    "description": "Overall lighting style (e.g., 'soft daylight')."
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "preset_id_reference": {
                                            "type": "string",
                                            "description": "Reference to a global lighting preset ID."
                                        }
                                    },
                                    "required": [
                                        "preset_id_reference"
                                    ]
                                }
                            ]
                        },
                        "tone": {
                            "oneOf": [
                                {
                                    "type": "string",
                                    "description": "General emotional tone (e.g., 'calm energy')."
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "preset_id_reference": {
                                            "type": "string",
                                            "description": "Reference to a global tone preset ID."
                                        }
                                    },
                                    "required": [
                                        "preset_id_reference"
                                    ]
                                }
                            ]
                        }
                    }
                },
                "audio": {
                    "type": "object",
                    "description": "Global audio characteristics for the video.",
                    "properties": {
                        "ambient": {
                            "type": "string",
                            "description": "Default background soundscape (e.g., 'city traffic', 'forest sounds with birdsong', 'gentle ocean waves', 'quiet room with distant hum')."
                        },
                        "music": {
                            "type": "string",
                            "description": "Style or reference for the background score (e.g., 'upbeat cinematic pop', 'dramatic orchestral', 'lo-fi beats', 'folk acoustic', 'synthwave', 'jazz')."
                        },
                        "dialogue_defaults": {
                            "type": "object",
                            "description": "Default settings for dialogue voices, overridden at scene level if specified or by character definition.",
                            "properties": {
                                "character": {
                                    "type": "string",
                                    "description": "Default speaker/role for dialogue if not a specific character (e.g., 'Generic Narrator', 'Off-screen Voice')."
                                },
                                "vocal": {
                                    "type": "string",
                                    "description": "Default description of vocal delivery (e.g., 'calm male voice', 'youthful female tone', 'authoritative baritone', 'energetic and clear')."
                                },
                                "language": {
                                    "type": "string",
                                    "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
                                    "description": "Default language for the dialogue (e.g., 'en-GB', 'es-ES')."
                                },
                                "accent": {
                                    "type": "string",
                                    "description": "Default accent for dialogue (e.g., 'Australian', 'RP British', 'American Midwest', 'Southern US', 'neutral')."
                                },
                                "subtitles": {
                                    "type": "boolean",
                                    "description": "Default true/false toggle for subtitles on all dialogue."
                                }
                            }
                        }
                    }
                },
                "color_palette": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of dominant or curated color themes/hex codes for the video's overall visual design (e.g., ['#RRGGBB', 'warm tones', 'cool blues', 'pastel shades', 'monochromatic reds'])."
                }
            }
        },
        "scenes": {
            "type": "array",
            "description": "An ordered list of individual scenes or shots composing the video.",
            "items": {
                "type": "object",
                "properties": {
                    "scene_id": {
                        "type": "string",
                        "description": "Optional: Unique ID or name for this specific scene (e.g., 'intro_01', 'climax_sequence', 'product_reveal')."
                    },
                    "narrative_role": {
                        "type": "string",
                        "enum": [
                            "intro",
                            "exposition",
                            "rising_action",
                            "climax",
                            "falling_action",
                            "resolution",
                            "outro",
                            "call_to_action",
                            "transition_scene",
                            "interlude",
                            "montage",
                            "flashback",
                            "flashforward"
                        ],
                        "description": "Narrative function or structural role of this scene within the overall video."
                    },
                    "duration_seconds": {
                        "type": "number",
                        "minimum": 0,
                        "description": "Optional: Specific duration of this scene in seconds. If omitted, AI can determine based on 'timing_flexibility', 'relative_weight', or dialogue length."
                    },
                    "timing_flexibility": {
                        "type": "object",
                        "description": "Optional: Provides flexibility or guidance for AI on scene duration.",
                        "properties": {
                            "relative_weight": {
                                "type": "number",
                                "minimum": 0,
                                "description": "A weight indicating the relative importance or desired length of this scene compared to others. AI can proportionally adjust duration (e.g., 1.0 = normal, 2.0 = twice as long)."
                            },
                            "estimated_duration_range": {
                                "type": "array",
                                "items": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "minItems": 2,
                                "maxItems": 2,
                                "description": "Optional: A [min, max] range in seconds for the scene's duration, allowing AI to choose within these bounds."
                            },
                            "pacing": {
                                "type": "string",
                                "enum": [
                                    "slow",
                                    "normal",
                                    "fast",
                                    "montage",
                                    "meditative",
                                    "urgent"
                                ],
                                "description": "Desired internal pacing for this scene, influencing visual and auditory rhythm."
                            }
                        }
                    },
                    "location": {
                        "type": "string",
                        "description": "Physical or descriptive location of the scene (e.g., 'urban rooftop at sunset', 'dense forest clearing with ancient ruins', 'cozy living room with fireplace')."
                    },
                    "time_of_day": {
                        "type": "string",
                        "enum": [
                            "dawn",
                            "morning",
                            "noon",
                            "afternoon",
                            "sunset",
                            "dusk",
                            "night",
                            "golden_hour",
                            "blue_hour",
                            "any"
                        ],
                        "description": "Time of day for the scene's setting."
                    },
                    "environment": {
                        "type": "string",
                        "description": "Detailed description of the setting, atmosphere, and mood (e.g., 'a bustling, futuristic street market with flying vehicles and neon signs', 'a serene, snow-covered mountain peak at sunrise, with mist drifting')."
                    },
                    "shot_overrides": {
                        "$ref": "#/$defs/shot_parameters",
                        "description": "Optional: Overrides specific global_style.shot properties for this scene. Includes advanced camera parameters."
                    },
                    "subjects": {
                        "type": "array",
                        "description": "List of characters or other subjects present and their specific actions/states in this scene. If a character_id is provided, it refers to a global character definition.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "character_id": {
                                    "type": "string",
                                    "description": "Optional: Reference to a character defined in the top-level 'characters' array. If provided, `description` here will override the character's global appearance description."
                                },
                                "subject_id_reference": {
                                    "type": "string",
                                    "description": "Optional: Reference to a subject defined in the top-level 'global_subjects' array. If provided, `description` here will override the subject's global description."
                                },
                                "description": {
                                    "type": "string",
                                    "description": "Description of the subject (if not a named character or global subject). If `character_id` or `subject_id_reference` is used, this field provides specific details about the character/subject's appearance/state in *this scene*, **overriding** the global description. (e.g., 'wearing a rain-soaked coat', 'a small, fluffy dog')."
                                },
                                "wardrobe_override": {
                                    "type": "string",
                                    "description": "Optional: Overrides the character's or subject's default wardrobe for this scene only. This value **replaces** any global or character-specific wardrobe definition for this scene (e.g., 'a different suit', 'casual clothes')."
                                },
                                "behaviour": {
                                    "type": "string",
                                    "description": "Emotional tone, body language, or key action traits of this subject in *this scene*. This detail is applied **in addition** to the global or character-specific behavior description (e.g., 'frantically searching', 'calmly observing the view')."
                                },
                                "action_details": {
                                    "type": "string",
                                    "description": "Specific action performed by the subject in this scene. This detail is applied **in addition** to any global or character-specific actions (e.g., 'walks towards the window', 'picks up the phone and dials')."
                                }
                            },
                            "oneOf": [
                                {
                                    "required": [
                                        "character_id"
                                    ]
                                },
                                {
                                    "required": [
                                        "subject_id_reference"
                                    ]
                                },
                                {
                                    "required": [
                                        "description"
                                    ]
                                }
                            ]
                        },
                        "minItems": 0
                    },
                    "cinematography_overrides": {
                        "type": "object",
                        "description": "Optional: Overrides specific global_style.cinematography properties for this scene.",
                        "properties": {
                            "lighting": {
                                "oneOf": [
                                    {
                                        "type": "string",
                                        "description": "Overall lighting style (e.g., 'soft daylight')."
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "preset_id_reference": {
                                                "type": "string",
                                                "description": "Reference to a global lighting preset ID."
                                            }
                                        },
                                        "required": [
                                            "preset_id_reference"
                                        ]
                                    }
                                ]
                            },
                            "tone": {
                                "oneOf": [
                                    {
                                        "type": "string",
                                        "description": "General emotional tone (e.g., 'calm energy')."
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "preset_id_reference": {
                                                "type": "string",
                                                "description": "Reference to a global tone preset ID."
                                            }
                                        },
                                        "required": [
                                            "preset_id_reference"
                                        ]
                                    }
                                ]
                            }
                        }
                    },
                    "visual_details": {
                        "type": "object",
                        "description": "Specific visual elements and general actions within the scene (excluding character-specific actions).",
                        "properties": {
                            "overall_scene_action": {
                                "type": "string",
                                "description": "Primary general description of non-character activity and key visual events in the shot (e.g., 'Rain pours outside the window, blurring the city lights.')."
                            },
                            "props": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "prop_id_reference": {
                                            "type": "string",
                                            "description": "Reference to a prop defined in the top-level 'global_props' array."
                                        },
                                        "name": {
                                            "type": "string",
                                            "description": "Name of the prop (e.g., 'coffee cup', 'smartphone'). Required if not using prop_id_reference."
                                        },
                                        "description": {
                                            "type": "string",
                                            "description": "Optional detailed description of the prop. If `prop_id_reference` is used, this field **overrides** the global prop's description. If omitted, the global description is used as the base (e.g., 'a worn leather-bound book with strange symbols')."
                                        },
                                        "state": {
                                            "type": "string",
                                            "description": "Optional: Current state of the prop in this scene. This detail is applied **in addition** to the global prop's description (or the scene's `description` if provided) (e.g., 'broken', 'glowing', 'empty', 'active')."
                                        },
                                        "action": {
                                            "type": "string",
                                            "description": "Optional: Action performed with or by the prop in this scene. This detail is applied **in addition** to the global prop's description (or the scene's `description` if provided) (e.g., 'spinning', 'shattered', 'ringing', 'being used')."
                                        }
                                    },
                                    "oneOf": [
                                        {
                                            "required": [
                                                "prop_id_reference"
                                            ]
                                        },
                                        {
                                            "required": [
                                                "name"
                                            ]
                                        }
                                    ]
                                },
                                "minItems": 0,
                                "description": "List of physical or visual objects used in the scene."
                            },
                            "motion_graphics": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "graphic_id_reference": {
                                            "type": "string",
                                            "description": "Reference to a motion graphic defined in the top-level 'global_motion_graphics' array."
                                        },
                                        "type": {
                                            "type": "string",
                                            "enum": [
                                                "lower_third",
                                                "infographic",
                                                "icon_overlay",
                                                "caption",
                                                "text_overlay",
                                                "animated_logo",
                                                "data_visualization"
                                            ],
                                            "description": "Type of graphic element. Required if not using `graphic_id_reference`."
                                        },
                                        "content": {
                                            "type": "string",
                                            "description": "The text or key information contained in the graphic. If `graphic_id_reference` is used, this field **overrides** the global `content_template` (e.g., 'Product Name: New Coffee Blend')."
                                        },
                                        "animation_style": {
                                            "type": "string",
                                            "description": "How the graphic appears and disappears. If `graphic_id_reference` is used, this field **overrides** the global `animation_style` (e.g., 'slide in from left', 'fade up', 'bounce in', 'typewriter effect'). Required if not using `graphic_id_reference`."
                                        },
                                        "position": {
                                            "type": "string",
                                            "description": "Screen position of the graphic. This detail is applied **in addition** to any global positioning (e.g., 'bottom center', 'top right', 'custom [x,y]')."
                                        },
                                        "timing_seconds": {
                                            "type": "number",
                                            "minimum": 0,
                                            "description": "When the graphic appears relative to the scene's start time (in seconds). This detail is applied **in addition** to any global timing."
                                        },
                                        "duration_seconds": {
                                            "type": "number",
                                            "minimum": 0,
                                            "description": "Optional: How long the graphic stays on screen (in seconds). If not provided, it lasts until the end of the scene or next graphic. This detail is applied **in addition** to any global duration."
                                        }
                                    },
                                    "oneOf": [
                                        {
                                            "required": [
                                                "graphic_id_reference"
                                            ]
                                        },
                                        {
                                            "required": [
                                                "type",
                                                "content",
                                                "animation_style"
                                            ]
                                        }
                                    ]
                                },
                                "minItems": 0,
                                "description": "Optional overlay or visual enhancements like text, infographics, or animated elements."
                            },
                            "timing_breakdown": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "start_time_seconds": {
                                            "type": "number",
                                            "minimum": 0,
                                            "description": "Start time of this specific action/visual within the current scene (in seconds)."
                                        },
                                        "end_time_seconds": {
                                            "type": "number",
                                            "minimum": 0,
                                            "description": "End time of this specific action/visual within the current scene (in seconds)."
                                        },
                                        "action": {
                                            "type": "string",
                                            "description": "Description of the visual action/element during this timestamp."
                                        }
                                    },
                                    "required": [
                                        "start_time_seconds",
                                        "end_time_seconds",
                                        "action"
                                    ]
                                },
                                "minItems": 0,
                                "description": "Optional detailed breakdown of moment-by-moment visuals within the scene for precise action timing."
                            }
                        }
                    },
                    "audio": {
                        "type": "object",
                        "description": "Audio elements specific to this scene, overriding global defaults.",
                        "properties": {
                            "dialogue": {
                                "type": "object",
                                "description": "Details for spoken lines in this scene.",
                                "properties": {
                                    "character_id": {
                                        "type": "string",
                                        "description": "Optional: The 'character_id' from the top-level 'characters' array who speaks this line."
                                    },
                                    "speaker_name": {
                                        "type": "string",
                                        "description": "The name of the speaker if not a defined character, or a specific name for clarity (e.g., 'Interviewer', 'Crowd')."
                                    },
                                    "vocal": {
                                        "type": "string",
                                        "description": "Description of delivery for this line (e.g., 'whispering, nervous tone', 'loud, commanding voice', 'child-like innocence'). Overrides global default or character's default vocal."
                                    },
                                    "line": {
                                        "type": "string",
                                        "description": "The spoken line of dialogue for this moment."
                                    },
                                    "language": {
                                        "type": "string",
                                        "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
                                        "description": "Language for this specific dialogue line (e.g., 'fr-CA'). Overrides global default."
                                    },
                                    "accent": {
                                        "type": "string",
                                        "description": "Accent for this specific dialogue line (e.g., 'Scottish', 'New York', 'Southern US'). Overrides global default or character's default accent."
                                    },
                                    "subtitles": {
                                        "type": "boolean",
                                        "description": "True/false toggle for subtitles specifically for this dialogue line. Overrides global default."
                                    }
                                },
                                "required": [
                                    "line"
                                ],
                                "oneOf": [
                                    {
                                        "required": [
                                            "character_id"
                                        ]
                                    },
                                    {
                                        "required": [
                                            "speaker_name"
                                        ]
                                    }
                                ]
                            },
                            "sound_effects": {
                                "type": "array",
                                "items": {
                                    "oneOf": [
                                        {
                                            "type": "string",
                                            "description": "A specific sound effect description (e.g., 'door creak'). This description is applied **in addition** to any global audio element referenced."
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "audio_id_reference": {
                                                    "type": "string",
                                                    "description": "Reference to an audio element defined in the top-level 'global_audio_elements' array."
                                                }
                                            },
                                            "required": [
                                                "audio_id_reference"
                                            ]
                                        }
                                    ]
                                },
                                "minItems": 0,
                                "uniqueItems": true,
                                "description": "List of specific sound effects for this scene (e.g., ['door creak', 'footsteps on gravel', 'distant explosion'])."
                            },
                            "music_override": {
                                "type": "string",
                                "description": "Optional: Specific music style or track for this scene, overriding global default music. (e.g., 'tense build-up score', 'light piano melody')."
                            },
                            "ambient_override": {
                                "type": "string",
                                "description": "Optional: Specific ambient soundscape for this scene, overriding global default ambient. (e.g., 'rain hitting window', 'dense jungle sounds', 'quiet library hum')."
                            }
                        }
                    },
                    "transition_to_next_scene": {
                        "type": "object",
                        "description": "Describes the transition *from* this scene *to* the next one. This field should be present on all scenes except the last one.",
                        "properties": {
                            "description": {
                                "type": "string",
                                "description": "Type of visual transition (e.g., 'digital dissolve', 'swipe wipe', 'fade to black', 'iris in', 'crossfade', 'match cut')."
                            },
                            "cut_type": {
                                "type": "string",
                                "enum": [
                                    "straight_cut",
                                    "jump_cut",
                                    "L_cut",
                                    "J_cut",
                                    "cross_cut",
                                    "smash_cut",
                                    "cut_on_action",
                                    "invisible_cut"
                                ],
                                "description": "Specifies editing logic or cut grammar to suggest pacing or narrative effect (e.g., 'straight_cut' for standard, 'jump_cut' for abruptness)."
                            },
                            "duration_seconds": {
                                "type": "number",
                                "minimum": 0,
                                "description": "Duration of the visual transition in seconds (e.g., 0.5, 1.0, 2.0)."
                            },
                            "style": {
                                "type": "string",
                                "description": "Mood or feel of the transition (e.g., 'dreamlike', 'sudden', 'playful', 'abrupt', 'seamless', 'disorienting')."
                            }
                        },
                        "required": [
                            "description"
                        ]
                    }
                },
                "required": [
                    "location",
                    "time_of_day",
                    "environment",
                    "visual_details"
                ]
            }
        },
        "annotations": {
            "type": "object",
            "description": "Additional notes and references for production and post-production.",
            "properties": {
                "direction_notes": {
                    "type": "string",
                    "description": "Optional: Director or creative notes, general artistic guidance for overall execution."
                },
                "post_production": {
                    "type": "string",
                    "description": "Specific VFX, editing instructions, or detailed color correction guidance."
                },
                "production_assets": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "type": {
                                "type": "string",
                                "enum": [
                                    "image",
                                    "video",
                                    "audio",
                                    "storyboard",
                                    "concept_art",
                                    "3d_model",
                                    "texture",
                                    "reference_clip",
                                    "other"
                                ],
                                "description": "Type of asset."
                            },
                            "id": {
                                "type": "string",
                                "description": "Unique identifier or filename of the asset."
                            },
                            "url": {
                                "type": "string",
                                "format": "uri",
                                "description": "Optional: URL to access the asset."
                            },
                            "description": {
                                "type": "string",
                                "description": "Brief description of the asset and its relevance to the video."
                            },
                            "scene_id_reference": {
                                "type": "string",
                                "description": "Optional: References a specific scene_id if this asset is primarily for that scene."
                            },
                            "character_id_reference": {
                                "type": "string",
                                "description": "Optional: References a specific character_id if this asset is primarily for that character (e.g., character model, costume concept art)."
                            }
                        },
                        "required": [
                            "type",
                            "id"
                        ]
                    },
                    "minItems": 0,
                    "description": "References to external production assets (e.g., image IDs, concept art URLs, storyboard links)."
                }
            }
        }
    },
    "required": [
        "metadata",
        "global_style",
        "scenes",
        "characters"
    ]
}